\documentclass{beamer}
\input{decls}
\UseAllTwocells
\newcommand{\blank}{\mathord{\hspace{1pt}\text{--}\hspace{1pt}}}

\usetheme[height=.7cm]{Rochester}
\useinnertheme{circles}
%\useoutertheme[compress,subsection=false]{miniframes}
\usecolortheme{rose}
\setbeamertemplate{navigation symbols}{}

\title{Univalent FOLDS}
\author[author]{Michael Shulman\inst{1} \and Benedikt Ahrens\inst{2} \and Paige North\inst{3}}
\institute{\inst{1} (University of San Diego)
  \and \inst{2} (Centre International de Math√©matiques et Informatique)
  \and \inst{3} (University of Cambridge)}
\date{}

\AtBeginSection[]
{
  \begin{frame}<beamer>{Outline}
    \tableofcontents[currentsection]
  \end{frame}
}

\begin{document}

\begin{frame}
  \maketitle
\end{frame}

\section{The Problem: Equivalence invariance}
\label{sec:invariance}

\begin{frame}
  \frametitle{Equivalence Invariance}
  \begin{block}{Question}
    We generally work with categories ``up to equivalence''.  How do we know that a true statement about one category is also true about any \alert<1>{equivalent} category?
  \end{block}
  \pause
  Well\dots it's not.
  \begin{itemize}
  \item<+-> The category of sets has exactly one initial object, but plenty of \alert<2>{equivalent} categories (e.g.\ $\mathbf{CABA}^{\mathrm{op}}$) have more than one.
  \item<+-> \structure{A:} That was a dumb theorem.  Every \alert<1>{sensible} statement is invariant under equivalence.
  \item<+-> \structure{Q:} What does ``sensible'' mean?
  \item<+-> \structure{A:} \dots I know it when I see it.
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Why it matters}
  When is ``I know it when I see it'' not good enough?
  \begin{enumerate}
  \item When the notion of ``equivalence'' is less obvious (e.g.\ no AC)
  \item When syntax matters, e.g.\ internalizing in a topos
  \item Generalizing to higher categorical structures
  \item Formalizing category theory in a computer
  \end{enumerate}
  \pause
  \begin{block}{A possible solution (Freyd, Blanc, Makkai)}
    \begin{enumerate}
    \item Prove that any statement \alert{with a certain syntactic form} is invariant under equivalence.
    \item Non-invariance comes from using \alert{equality of objects} (rather than isomorphism).
  \end{enumerate}
  \end{block}
\end{frame}

\begin{frame}
  \frametitle{Dependent types}
  \begin{block}{Problem}
    The \alert<1>{definition} of category uses equality of objects:
    \begin{center}
      ``If $s(g)$ is \alert<1>{equal to} $t(f)$, then $g\circ f$ exists.''
    \end{center}
  \end{block}
  \begin{block}{Solution}
    Use a logic of \alert<2>{dependent types}, in which $s(g)=t(f)$ is encoded by what \alert<2>{type of thing} $f$ and $g$ are.
  \end{block}
  A category consists of
  \begin{itemize}
  \item A collection $O$ of objects
  \item For each $x,y:O$, a collection $A(x,y)$ of arrows
  \item For each $x,y,z:O$ and each $f:A(x,y)$ and $g:A(y,z)$, a composite $g\circ f: A(x,z)$
  \item For each $x:O$, an identity $1_x:A(x,x)$
  \item \dots
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Syntactic invariance}
  \begin{theorem}[Freyd 76, Blanc 78, Makkai 95]
    A {property} of categories is invariant under equivalence iff it can be expressed in this dependently typed language, using equality for arrows but not for objects.
  \end{theorem}
  This is great:
  \begin{enumerate}
  \item It's an easily checkable syntactic criterion.
  \item It's really just the language we usually use anyway!
  \end{enumerate}
  \pause
  \begin{block}{Goal}
    \begin{enumerate}
    \item Generalize this to higher categorical structures\dots
    \item \dots in a way that a computer can understand.
    \end{enumerate}
  \end{block}
\end{frame}

\section{Higher categories: FOLDS}
\label{sec:folds}

\begin{frame}[t]
  \frametitle{Dependent types for higher categories}
  \begin{block}{Observation 1 (Makkai 95)}
    Every (higher) categorical structure has a natural dependently typed language.
  \end{block}
  \begin{itemize}
  \item \structure{2-categories:} objects $O$, arrows $A(x,y)$, 2-arrows $W(x,y,f,g)$
    \[\xymatrix{x \rtwocell^f_g & y}\]
  \item \structure{3-categories:} objects $O$, arrows $A(x,y)$, 2-arrows $W(x,y,f,g)$, 3-arrows $H(x,y,f,g,\alpha,\beta)$
  \item \structure{double categories:} objects $O$, horizontal arrows $H(x,y)$, vertical arrows $V(x,y)$, squares $S(x,y,z,w,f,g,h,k)$
    \[\xymatrix@-1pc{x \ar[r]^f \ar[d]_h \drtwocell\omit & y \ar[d]^k \\ z \ar[r]_{g} & w}\]
  \end{itemize}
\end{frame}

\begin{frame}[t]
  \frametitle{Operations as types}
  \begin{block}{Observation 2}
    We can also express \alert<1>{operations} as dependent types.
  \end{block}
  A category consists of
  \begin{itemize}
    \only<1>{
  \item A collection $O$ of objects
  \item For each $x,y:O$, a collection $A(x,y)$ of arrows
  \item For each $x,y,z:O$, $f:A(x,y)$, $g:A(y,z)$, and $h:A(x,z)$, a collection $T_{x,y,z}(f,g,h)$ of \alert<1>{assertions that $h$ is $g\circ f$}.
  \item For each $x:O$ and $f:A(x,y)$, a collection $I_x(f)$ of \\\alert<1>{assertions that $f$ is $1_x$}.
  \item \dots
  }
  \only<2-3>{
  \item \dots $O$, $A$, $T$, $I$, \dots
  \item For any $f:A(x,y)$, and $g:A(y,z)$, there exist $h:A(x,z)$ and $t:T_{x,y,z}(f,g,h)$.
  \item For any $t_1:T_{x,y,z}(f,g,h_1)$ and $t_2:T_{x,y,z}(f,g,h_2)$, $t_1 = t_2$.
  \item \dots
    \pause\pause
  \item For any $t_1,t_2:T_{x,y,z}(f,g,h)$, we have $h_1 = h_2$\\ ($T$ is a mere relation).
  \item For any $x,f$ with $i_1,i_2 : I_x(f)$ we have $i_1=i_2$\\ ($I$ is a mere relation).
  }
  \end{itemize}
\end{frame}

\begin{frame}[t]
  \frametitle{Equality as a type}
  \begin{block}{Representing equality}
    We include \alert{equality of morphisms} as an explicit relation.
  \end{block}
  A category consists of
  \begin{itemize}
  \item \dots $O$, $A$, $T$, $I$, \dots
  \item For each $x,y:O$ and $f,g:A(x,y)$, a collection $E_{x,y}(f,g)$ of \alert{assertions that $f=g$}.
  \item \dots
    \pause
  \item For any $t_1:T_{x,y,z}(f,g,h_1)$ and $t_2:T_{x,y,z}(f,g,h_2)$, we have $e : E_{x,z}(h_1,h_2)$.
    \pause
  \item $T$, $I$, and now also $E$ are mere relations.
  \item $E$ is an equivalence relation, and a congruence for $T$ and $I$.
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{FOLDS-signatures}
  We describe a dependent type structure with a \alert{simple category} $\Sigma$.
  \[
  \vcenter{\xymatrix{
      T \ar[dr] \ar@<1mm>[dr] \ar@<-1mm>[dr] & I \ar[d] & E \ar@<1mm>[dl] \ar@<-1mm>[dl] \\
      & A \ar@<1mm>[d] \ar@<-1mm>[d] \\
      & O}}
  \]
  Then a \structure{structure} is a \structure{diagram} on $\Sigma$ (about which we assert the axioms).

  \medskip
  \alert{FOLDS} = \alert{F}irst-\alert{O}rder \alert{L}ogic with \alert{D}ependent \alert{S}orts
\end{frame}

\begin{frame}[t]
  \frametitle{Equivalences for higher categories}
  \begin{block}{Observation 4 (Makkai 95)}
    Every (higher-)categorical structure has an intrinsic notion of \alert<1>{equivalence} arising from its dependently typed language.
  \end{block}
  \begin{enumerate}
\only<1>{\item Categories $C$ and $D$ are equivalent iff there is a span
    \[ C \ot X \to D\]
    of surjective equivalences.
  }\only<2->{\setcounter{enumi}{1}
  \item A \only<2>{functor}\only<3>{\alert{map of structures}} is $F:C\to D$ is a surjective equivalence iff
    \begin{itemize}
    \item For each $y:O_D$, there exists $x:O_C$ such that $F(x)=y$ (\alert<2>{surjective on objects}).
    \item For each $x,y:O_C$ and $g:A_D(Fx,Fy)$, there exists $f:A_C(x,y)$ such that $F(f)=g$ (\alert<2>{full}).
    \item For $x,y:O_C$ and $f,g:A_C(x,y)$ and $e_D:E_{D,(Fx,Fy)}(Ff,Fg)$, there exists $e_C:E_{C,(x,y)}(f,g)$ such that $Fe_C=e_D$ (\alert<2>{faithful}).
      \only<3->{
    \item For $x,y,z,f,g,h$ and $t_D:T_{D,(Fx,Fy,Fz)}(Ff,Fg,Fh)$, there exists $t_C:T_{C,(x,y,z)}(f,g,h)$ such that $Ft_C = t_D$ (\alert{preserves composition}).
    \item For $x,f$ and $i_D:I_{D,Fx}(Ff)$, there exists $i_C:I_{C,x}(f)$ such that $Fi_C = i_D$ (\alert{preserves identities}).
      }
    \end{itemize}}
  \end{enumerate}
\end{frame}

\begin{frame}[t]
  \frametitle{Equivalences for higher categories}
  \begin{block}{Observation 4 (Makkai 95)}
    Every (higher-)categorical structure has an intrinsic notion of {equivalence} arising from its dependently typed language.
  \end{block}
  \begin{enumerate}
  \item A morphism of FOLDS-structures is \alert<1>{very surjective} if \dots
  \item Structures $C$ and $D$ are \alert<1>{FOLDS-equivalent} if there is a span
    \[ C \ot X \to D\]
    of very-surjective maps.
  \end{enumerate}
  \pause
  \begin{theorem}[Makkai 95]
    A {statement} about FOLDS-structures is invariant under FOLDS-equivalence \alert<2>{if and only if} it can be expressed in their dependently typed language, using equality only at ``top level''.
  \end{theorem}
\end{frame}

\begin{frame}
  \frametitle{FOLDS redux}
  \begin{block}{Pros}
    \begin{itemize}
    \item Applies generally to any categorical structure.
    \item An easily checkable syntactic criterion.
    \item Really just the language we usually use anyway.
    \end{itemize}
  \end{block}
  \pause
  \begin{block}{Cons}
    \begin{itemize}
    \item The ``mere relations'' ($T$, $I$, $E$) play a curiously special role.
    \item Need to include equality $E$ as a relation, but then not all structures are ``standard'' (interpret $E$ by ``actual'' equality).
    \item FOLDS-equivalence is complicated and ``large''.
    \end{itemize}
  \end{block}
\end{frame}

\section{Reducing to groupoids: Univalent categories}
\label{sec:univalence}

\begin{frame}
  \frametitle{Reducing to groupoids}
  \begin{block}{Idea}
    \begin{enumerate}
    \item Define categories as \alert<1>{structured groupoids} rather than structured sets.
    \item An equivalence of categories is a levelwise equivalence of groupoids.
    \end{enumerate}
  \end{block}
  Why?
  \begin{itemize}
  \item Tools from homotopy theory make (higher) groupoids easier to work with.
  \item (Higher) groupoids are a common reduct for all higher categorical structures.
  \item Levelwise equivalences are easier to work with.
  \item Homotopy type theory: computers understand higher groupoids!
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Saturating categories}
  From any category $C$, its \alert<1>{saturation} is an internal category $\Chat = (A\toto O)$ in groupoids:
  \begin{itemize}
  \item $O$ is the groupoid of objects of $C$ and isomorphisms in $C$.
  \item $A$ is the groupoid of morphisms of $C$ and their isomorphisms (commutative squares).
  \end{itemize}
  \pause
  \begin{block}{Fact}
    $C\to D$ is an equivalence iff $\Chat \to \Dhat$ is an \alert{equivalence on underlying groupoids} (i.e.\ $O_{\chat} \to O_{\Dhat}$ and $A_{\Chat} \to A_{\Dhat}$ are equivalences).
  \end{block}
\end{frame}

\begin{frame}
  \frametitle{Categories in groupoids}
  \begin{theorem}
    An internal category $A\toto O$ in groupoids is of the form $\Chat$ iff
    \begin{enumerate}
    \item The map $A\to O\times O$ is a discrete fibration, and
    \item The canonical map
    \[ \hom_O(x,y) \to \mathsf{iso}(x,y) \]
    is an isomorphism for all $x,y\in O$.
    \end{enumerate}
  \end{theorem}
  \begin{itemize}
  \item $\hom_O(x,y)=$ morphisms in the groupoid $O$
  \item $\mathsf{iso}(x,y)=$ objects of the groupoid $A$ that are isomorphisms from $x$ to $y$ for the category structure on $A\toto O$.
  \end{itemize}
  Such a category in groupoids is called \alert{univalent} (or ``saturated'' or ``Rezk-complete'').
\end{frame}

% \begin{frame}
%   \frametitle{Univalent foundations}
%   \begin{block}{Univalent foundations}
%     An alternative to set-theoretic foundations for mathematics in which
%     \begin{itemize}
%     \item The basic objects are not sets but $\infty$-groupoids (called \alert<1>{(homotopy) types})
%       \pause
%     \item Instead of the \alert<2>{proposition} $x=y$ of set theory, we have for any type $X$ and elements $x,y:X$, \alert<2>{another type} ``$x=y$''.
%       \pause
%     \item The elements of $x=y$ are called \alert<3>{morphisms}, \alert<3>{paths}, or \alert<3>{identifications} from $x$ to $y$.
%       \pause
%     \item There is a type $\mathcal{U}$ whose elements are types, such that for $A,B:\mathcal{U}$ the type $A=B$ consists of \alert<4>{equivalences} from $A$ to $B$ (the \alert<4>{univalence axiom})
%       \pause
%     \item There is an operation that automatically transports all statements \alert<5>{or constructions} along an identification $p:x=y$.
%     \end{itemize}
%   \end{block}
% \end{frame}

\begin{frame}
  \frametitle{Univalent FOLDS}
  Consider FOLDS-structures in $\infty$-groupoids, i.e.\ each $O$, $A$, $T$, etc.\ is an $\infty$-groupoid.
  We also require each ``dependency-assigning map'', e.g.\ $A \to O\times O$ or $E\to A\times_{O\times O} A$, to be a fibration.
  \begin{theorem}[in progress]
    There is a notion of \alert{univalence} for FOLDS-structures in $\infty$-groupoids, such that
    \begin{enumerate}
    \item Two univalent structures are FOLDS-equivalent iff they are levelwise equivalent on underlying $\infty$-groupoids.
    \item In a univalent structure, the top sorts (e.g.\ $T$, $I$, $E$) are {automatically} mere relations.
    \item A univalent structure is automatically standard ($E$ is actual equality).
    \end{enumerate}
  \end{theorem}
  % \structure{NB:} The hard part is defining ``univalent''.
  % \pause\medskip
  % \begin{block}{Higher category theory in UF}
  %   \begin{itemize}
  %   \item We can define \alert{any higher-categorical structure} in univalent foundations, such that $C=D$ consists of the appropriate sort of  equivalences.
  %   \item In particular, any statement \alert{or construction} can automatically be transported along such equivalences.
  % \end{itemize}
  % \end{block}
\end{frame}

\section{Univalent FOLDS by example}
\label{sec:univalent-folds-eg}

\begin{frame}
  \frametitle{Univalent FOLDS-structures}
  \begin{definition}
    A FOLDS-structure in $\infty$-groupoids is \alert<1>{univalent} if for every type $M$ in its signature and every $x,y:M(\dots)$, the canonical map
    \[ \hom_M(x,y) \to \mathsf{iso}(x,y) \]
    is an equivalence.
  \end{definition}
  \pause
  \begin{itemize}
  \item $\hom_M(x,y)=$ the $\infty$-groupoid of maps in the fiber of the $\infty$-groupoid $M$ over $(\dots)$.
  \item $\mathsf{iso}(x,y)=$ the $\infty$-groupoid of \alert{FOLDS-isomorphisms} $x$ to $y$.
  \end{itemize}
  What is a FOLDS-isomorphism?
\end{frame}

\begin{frame}[t]
  \frametitle{FOLDS-isomorphisms for categories}
  \begin{block}{Idea}
    A FOLDS-isomorphism between $x,y:M_C(\dots)$ in a structure $C$ is\\\alert<1>{a coherent set of equivalences replacing $x$ by $y$ in the types of anything in $C$ that depends on one or more elements of $M$}.
  \end{block}
  \pause
  \begin{example}
  For objects $a,b:O$ of a FOLDS-category $(O,A,T,I,E,\dots)$, a FOLDS-isomorphism is
  \begin{enumerate}
  \item For each $x:O$, an isomorphism $\phi_{x\bullet} : A(x,a) \cong A(x,b)$,
  \item For each $z:O$, an isomorphism $\phi_{\bullet z} : A(a,z) \cong A(b,z)$, and
  \item An isomorphism $\phi_{\bullet\bullet} : A(a,a) \cong A(b,b)$,
  \item Respecting composites, identities, and equality ($T$, $I$, and $E$)\\
    \textit{(to be continued \dots)}
  \end{enumerate}
\end{example}
  % \pause
  % This is equivalent to an ordinary isomorphism $x\cong y$, by a ``two-sided'' form of the Yoneda lemma.
\end{frame}

\begin{frame}[t]
  \frametitle{FOLDS-isomorphisms for categories}
  \[
  \begin{array}{rcl}
    \alert<2>{T_{x,y,a}(f,g,h)} & \alert<2>{\Leftrightarrow}& \alert<2>{T_{x,y,b}(f,\phi_{y\bullet}(g),\phi_{x\bullet}(h))}\\
    \alert<4>{T_{x,a,z}(f,g,h)} &\alert<4>{\Leftrightarrow}& \alert<4>{T_{x,b,z}(\phi_{x\bullet}(f),\phi_{\bullet z}(g),h)}\\
    \alert<3>{T_{a,z,w}(f,g,h)} &\alert<3>{\Leftrightarrow}& \alert<3>{T_{b,z,w}(\phi_{\bullet z}(f),g,\phi_{\bullet w}(h))}\\
    \alert<5>{T_{x,a,a}(f,g,h)} &\alert<5>{\Leftrightarrow}& \alert<5>{T_{x,b,b}(\phi_{x\bullet}(f),\phi_{\bullet\bullet}(g),\phi_{x\bullet}(h))}\\
    \alert<5>{T_{a,x,a}(f,g,h)} &\alert<5>{\Leftrightarrow}& \alert<5>{T_{b,x,b}(\phi_{\bullet x}(f),\phi_{x\bullet}(g),\phi_{\bullet\bullet}(h))}\\
    \alert<5>{T_{a,a,x}(f,g,h)} &\alert<5>{\Leftrightarrow}& \alert<5>{T_{b,b,x}(\phi_{\bullet\bullet}(f),\phi_{\bullet x}(g),\phi_{\bullet x}(h))}\\
    \alert<6>{T_{a,a,a}(f,g,h)} &\alert<6>{\Leftrightarrow}& \alert<6>{T_{b,b,b}(\phi_{\bullet\bullet}(f),\phi_{\bullet\bullet}(g),\phi_{\bullet\bullet}(h))}\\
    \alert<6>{I_{a,a}(f) }& \alert<6>{\Leftrightarrow}& \alert<6>{I_{b,b}(\phi_{\bullet\bullet}(f))}\\
    \alert<6>{E_{x,a}(f,g) }&\alert<6>{\Leftrightarrow}& \alert<6>{E_{x,b}(\phi_{x\bullet }(f),\phi_{x\bullet}(g))}\\
    \alert<6>{E_{a,x}(f,g) }&\alert<6>{\Leftrightarrow}& \alert<6>{E_{b,x}(\phi_{\bullet x}(f),\phi_{\bullet x}(g))}\\
    \alert<6>{E_{a,a}(f,g) }&\alert<6>{\Leftrightarrow}& \alert<6>{E_{b,b}(\phi_{\bullet \bullet}(f),\phi_{\bullet \bullet}(g))}
  \end{array}
  \]
  \vspace{1mm}
  \begin{center}
    \only<2>{The $\phi_{x\bullet}$ are a natural isomorphism.}
    \only<3>{The $\phi_{\bullet x}$ are a natural isomorphism.}
    \only<4>{The $\phi_{x\bullet}$ and $\phi_{\bullet x}$ arise from the same iso $a\cong b$.}
    \only<5>{$\phi_{\bullet\bullet}$ is conjugation by this iso.\\
      (Any one of these ensures this, and the others follow.)}
    \only<6>{The rest are automatic.}
  \end{center}
\end{frame}

\begin{frame}[t]
  \frametitle{FOLDS-isomorphisms for categories}
  \begin{example}
    For objects $a,b:O$ of a FOLDS-category $(O,A,T,I,E,\dots)$, a FOLDS-isomorphism is
    \begin{enumerate}
    \item For each $x:O$, an isomorphism $\phi_{x\bullet} : A(x,a) \cong A(x,b)$,
    \item For each $z:O$, an isomorphism $\phi_{\bullet z} : A(a,z) \cong A(b,z)$, and
    \item An isomorphism $\phi_{\bullet\bullet} : A(a,a) \cong A(b,b)$,
    \item Respecting composites, identities, and equality ($T$, $I$, and $E$).
    \end{enumerate}
  \end{example}
  \begin{theorem}[Two-sided Yoneda lemma]
    FOLDS-isomorphisms are equivalent to ordinary isos $a\cong b$.
  \end{theorem}
\end{frame}

\begin{frame}
  \frametitle{FOLDS-univalence for objects in categories}
  \begin{block}{That means}
    Our proposed general ``univalence'' condition for FOLDS-structures, applied at $O$ in the signature for categories, gives the second condition $\hom_O(x,y) \toiso \mathsf{iso}(x,y)$ for univalent categories.
  \end{block}
  \begin{block}{But}
    \begin{enumerate}
    \item To be consistent, we must apply that condition at the other types too: $A$, $T$, $I$, $E$.
    \item There is also the first condition ($A\to O\times O$ is a discrete fibration).
    \end{enumerate}
  \end{block}
  Fortunately, these two difficulties resolve each other.
\end{frame}

\begin{frame}
  \frametitle{FOLDS-isomorphisms for operations}
  \[
  \vcenter{\xymatrix{
      % &&& \text{FOLDS} \cong\\
      \alert<1-2>{T} \ar[dr] \ar@<1mm>[dr] \ar@<-1mm>[dr] & \alert<1-2>{I} \ar[d] & \alert<1-2>{E} \ar@<1mm>[dl] \ar@<-1mm>[dl] &
      \only<1>{?}\only<2->{\text{vacuous}}\\
      & \alert<3>{A} \ar@<1mm>[d] \ar@<-1mm>[d] && \only<3>{?} \\
      & {O}&& \text{ordinary} \cong}}
  \]
  \pause
  \begin{itemize}
  \item The types $T$, $I$, and $E$ have \alert<2>{nothing} that depend on them.
  \item Thus, $\mathsf{iso}(x,y)=1$ vacuously for any $x,y$ in these types.
  \end{itemize}
  \begin{block}{Hence}
    Univalence at $T$ means any two $t_1,t_2 : T_{x,y,z}(f,g,h)$\\ (for instance) are equal, i.e.\ $T$ is a mere relation.
  \end{block}
\end{frame}

\begin{frame}
  \frametitle{FOLDS-isomorphisms for arrows}
  A FOLDS-iso between $f,g:A(x,y)$ includes, among other things,
  \begin{itemize}
  \item For any $h:A(x,y)$, we have $E_{x,y}(f,h) \iff E_{x,y}(g,h)$.
  \end{itemize}
  and therefore, since $E$ is reflexive,
  \begin{itemize}
  \item $E_{x,y}(f,g)$.
  \end{itemize}
  \pause
  Since $E$ is a congruence for $T$ and $I$, this implies everything else.
  So \alert{a FOLDS-iso between $f,g:A(x,y)$ is the assertion $E_{x,y}(f,g)$.}
  \begin{block}{Thus}
    Univalence at $A$ means that the fibers of $A\to O\times O$ are discrete sets and their equality is $E$.
  \end{block}
  \pause
  \begin{block}{Note}
    Similarly, univalence at $O$ also ensures that $O$ is a 1-groupoid, even if \textit{a priori} it was an $\infty$-groupoid.
  \end{block}
\end{frame}

\begin{frame}
  \frametitle{FOLDS-univalence for categories}
  \begin{block}{In conclusion}
    A FOLDS-category in $\infty$-groupoids satisfies the univalence condition at all types if and only if it is a univalent 1-category in groupoids, hence of the form $\Chat$ for some ordinary category $C$.
  \end{block}
  \pause
  Is it sensible in other examples?
\end{frame}

\begin{frame}[t]
  \frametitle{$\dagger$-categories}
  \begin{definition}
    A \alert<1>{$\dagger$-category} is a category with coherent isomorphisms $(\blank)^\dagger : \hom(x,y) \to \hom(y,x)$.
  \end{definition}
  \only<1>{\[
  \vcenter{\xymatrix@R=1.5pc{
      D \ar@<0mm>[dr] \ar@<-1mm>[dr] & T \ar[d] \ar@<1mm>[d] \ar@<-1mm>[d] & I \ar[dl] & E \ar@<1mm>[dll] \ar@<0mm>[dll] \\
      & A \ar@<1mm>[d] \ar@<-1mm>[d] \\
      & O}}
  \]}
  \pause
  \begin{itemize}
  \item Now a FOLDS-isomorphism between $x,y:O$ is a \alert<2>{unitary isomorphism} $f:x\toiso y$, i.e.\ one satisfying $f^{-1} = f^\dagger$.
    \pause
  \item In a univalent $\dagger$-category, $O$ is the groupoid of objects and unitary isomorphisms.
  \item FOLDS-equivalences (which are underlying equivalences of univalent $\dagger$-categories) are \alert{$\dagger$-equivalences}, involving unitary natural isomorphisms.
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Classical first-order logic}
  Consider a many-sorted first-order theory with relations and equality:
  \[ \xymatrix{
    E_1 \ar@<1mm>[d] \ar@<-1mm>[d] & R_1 \ar[dl] \ar[dr] & E_2 \ar@<1mm>[d] \ar@<-1mm>[d] & R_2 \ar[dlll] \ar@<1mm>[dr] \ar@<-1mm>[dr] & E_3 \ar@<1mm>[d] \ar@<-1mm>[d] & R_3 \ar[dl] & \dots \\
    A_1 && A_2 && A_3 && \dots
  }\]
  \begin{itemize}
  \item Univalence at $E_i$ and $R_i$ forces them to have at most one element each, i.e.\ to be relations.
  \item Univalence at $A_i$ makes it a discrete set whose equality is $E_i$.
  \end{itemize}
  We recover classical first-order logic with equality.
\end{frame}

\begin{frame}[t]
  \frametitle{2-categories}
  \[
  \vcenter{\xymatrix{
      T_2 \ar[dr] \ar@<1mm>[dr] \ar@<-1mm>[dr] & I_2 \ar[d] & E_2 \ar@<1mm>[dl] \ar@<-1mm>[dl] \\
      & A_2 \ar@<1mm>[d] \ar@<-1mm>[d] \\
      & A_1 \ar@<1mm>[d] \ar@<-1mm>[d] \\
      & O}}
  \]
\end{frame}

\begin{frame}[t]
  \frametitle{2-categories}
  \[
  \vcenter{\xymatrix{
      I_2 \ar[drr] & T_2 \ar[dr] \ar@<1mm>[dr] \ar@<-1mm>[dr] & E_2 \ar@<1mm>[d] \ar@<-1mm>[d] \\
      && A_2 \ar@<1mm>[d] \ar@<-1mm>[d] & T_1 \; ? \ar[dl] \ar@<1mm>[dl] \ar@<-1mm>[dl]  \\
      && A_1 \ar@<1mm>[d] \ar@<-1mm>[d] \\
      && O}}
  \]
  \begin{itemize}
  \item Since $T_1 \to (A_1)^3$ is a fibration, any $t:T_1(f,g,h)$ can be transported along an iso $h \cong h'$ to yield $T_1(f,g,h')$.
  \item $t:T_1(f,g,h)$ must record an iso $h \cong g \circ f$, so $T_1$ can't be a mere relation.
  \end{itemize}
\end{frame}

\begin{frame}[t]
  \frametitle{2-categories}
  \[
  \vcenter{\xymatrix{
      I_2 \ar[drr] & T_2 \ar[dr] \ar@<1mm>[dr] \ar@<-1mm>[dr] & E_2 \ar@<1mm>[d] \ar@<-1mm>[d]
      & E_{T_1} \ar@<1mm>[d] \ar@<-1mm>[d]\\
      && A_2 \ar@<1mm>[d] \ar@<-1mm>[d] & T_1  \ar[dl] \ar@<1mm>[dl] \ar@<-1mm>[dl]  \\
      && A_1 \ar@<1mm>[d] \ar@<-1mm>[d] \\
      && O}}
  \]
  \begin{itemize}
  \item Need an equality on $T_1$ to allow it to be a set.
  \end{itemize}
\end{frame}

\begin{frame}[t]
  \frametitle{2-categories}
  \[
  \vcenter{\xymatrix{
      I_2 \ar[drr] & T_2 \ar[dr] \ar@<1mm>[dr] \ar@<-1mm>[dr] & E_2 \ar@<1mm>[d] \ar@<-1mm>[d]
      & ? \ar[dl] \ar[d]
      & E_{T_1} \ar@<1mm>[dl] \ar@<-1mm>[dl]\\
      && A_2 \ar@<1mm>[d] \ar@<-1mm>[d] & T_1  \ar[dl] \ar@<1mm>[dl] \ar@<-1mm>[dl]  \\
      && A_1 \ar@<1mm>[d] \ar@<-1mm>[d] \\
      && O}}
  \]
  \begin{itemize}
  \item Need an equality on $T_1$ to allow it to be a set.
  \item Need to relate $T_1$ to the isos in $A_2$\dots
  \end{itemize}
\end{frame}

\begin{frame}[t]
  \frametitle{2-categories}
  \begin{block}{Options}
    \begin{enumerate}
    \item Use a ``fat truncated $\Theta$''.
      \pause
    \item Use \alert{opetopes} / \alert{multitopes}! \\(Baez--Dolan, Hermida--Makkai--Power)
    \end{enumerate}
  \end{block}
  \[
  \vcenter{\xymatrix{
      A_{2,0} \ar[dr]
      & A_{2,1} \ar@<1mm>[d] \ar@<-1mm>[d]
      & A_{2,2} \ar@<1mm>[dl] \ar@<-1mm>[dl] \ar[dl]
      & \cdots \ar@{}[dll]|{\cdots} \\
      & A_1 \ar@<1mm>[d] \ar@<-1mm>[d] \\
      & O}}
  \]
  \begin{itemize}
  \item Need equalities $E_{2,n}$, many compositions of different arities.
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{$\omega$-categories}
  \begin{columns}
    \begin{column}{2cm}
      \[
      \vcenter{\xymatrix{
          & \vdots \ar@<1mm>[d] \ar@<-1mm>[d] \\
          & A_3 \ar@<1mm>[d] \ar@<-1mm>[d] \\
          & A_2 \ar@<1mm>[d] \ar@<-1mm>[d] \\
          & A_1 \ar@<1mm>[d] \ar@<-1mm>[d] \\
          & O}}
      \]
    \end{column}
    \begin{column}{8cm}
      \begin{block}{Expectations}
        \begin{itemize}
        \item No top-level sorts $\Rightarrow$ no mere relations
        \item All types are general $\infty$-groupoids
        \item Need infinite limits to define FOLDS-isos
          \pause
        \item FOLDS-isos are \alert{not} coinductive, but downward inductive.
        \end{itemize}
      \end{block}
      What is an equivalence in an $\omega$-category?
    \end{column}
  \end{columns}
\end{frame}

\begin{frame}
  \begin{center}
    Thanks!
  \end{center}
\end{frame}

\appendix

\section{Appendix: FOLDS-isomorphisms by definition}
\label{sec:univalent-folds}

\begin{frame}
  \frametitle{Versions of the identity}
  \begin{block}{Idea}
    $x,y:M_C(\dots)$ in a FOLDS-structure $C$ are \alert<1>{FOLDS-isomorphic} if\\ \only<1>{there is a FOLDS-equivalence $C\simeq C$ taking $x$ to $y$.}\only<2>{the \alert<2>{identity} FOLDS-equivalence $C \simeq C$ takes $x$ to $y$.}\only<3->{the identity FOLDS-equivalence $C \simeq C$ \alert<3>{could} take $x$ to $y$.}
  \end{block}
  \pause\pause\pause
  \begin{definition}
    A FOLDS-equivalence $C\simeq C$, i.e.\ a span of very-surjective maps
    \[ C \ot F \to C, \]
    is \alert{a version of the identity} if there is a common section:
    \[ \xymatrix{ &C \ar[d] \ar@{=}[dl] \ar@{=}[dr] \\ C & F \ar[l] \ar[r] & C } \]
  \end{definition}
\end{frame}

\begin{frame}
  \frametitle{Ana-equivalences of categories}
  For 1-categories, a FOLDS-equivalence $C \ot F \to D$ is an \alert<1>{ana-equivalence}:
  \begin{itemize}
  \item The objects of $F$ are ``reasons why $F(c) = d$''
  \item For every $c\in C$, there is a $d\in D$ and a reason why $F(c)=d$.
  \item For every $d\in D$, there is a $c\in C$ and a reason why $F(c)=d$.
  \item If $F(c)=d$ and $F(c')=d'$ (with given reasons), then we have an isomorphism $\hom_C(c,c') \toiso \hom_D(d,d')$.
  \item These isomorphisms are functorial.
  \end{itemize}
  \pause
  An endo-ana-equivalence $C \ot F \to C$ is a \alert{version of the identity} if for all $c$, there is some reason why $F(c)=c$.
\end{frame}

\begin{frame}
  \frametitle{FOLDS-isomorphic objects}
  \begin{definition}
    $x,y:M_C(\dots)$ in $C$ are \alert<1>{FOLDS-isomorphic} if there is a version of the identity $C\ot F \to C$ and a reason why $F(x)=y$.
  \end{definition}
  \pause
  \begin{itemize}
  \item To define univalent FOLDS-structures, we need\\ \alert<2>{the $\infty$-groupoid} $\mathsf{iso}(x,y)$ of FOLDS-isomorphisms.
  \item Need a version of the identity that contains \alert<2>{no more information} than an isomorphism $x\cong y$.
  \item Some other time\dots
  \end{itemize}
\end{frame}

% \begin{frame}
%   \frametitle{FOLDS-isomorphisms}
%   Recall $M$ is an object of some simple category $\Sigma$.
%   By Yoneda, $x,y:M_C(\dots)$ induce a canonical span
%   \[ C \xot{x} \hom_\Sigma(M,\blank) \xto{y} C \]
%   TODO\dots
% \end{frame}

\end{document}
