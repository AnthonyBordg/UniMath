By Vladimir  Voevodsky Feb. 2010 - Apr. 2014 .

This is the Apr. 2014 version of the mathematical library for the proof assistant Coq based on the univalent semantics for the calculus of inductive constructions. 

*****

It was checked to compile with Coq-8.4pl3 patched with the patch file from the Coq_patch subdirectory. See the README file in this subdirectory for the info on what has to be done to make the binaries of the patched Coq 8.4pl3 to be available on the PATH.

After the binaries of the patched Coq 8.4pl3 are available on the PATH, the easiest way to compile the library is by typing "make" in the directory where this README file is. For this (as well as for the Coq installation) to work one should have GNU Make installed. 

By running "make install" one can install the compiled library to the /user-contrib/ directory of the Coq which is used for compilation.

*****

Once the library is compiled the individual files of the library can be followed line-by-line in Proof General. The instructions for using Proof General are as follows.

Proof General is an interface for working with proof assistants in emacs. The instructions for the installation of Proof General can be found at the Proof General website.  Once it is installed opening up in emacs of a file with extension .v should automatically start Proof General. When Coq code in the .v file is being followed in Proof General, Proof General will try to start the Coq process with the command which is stored in the emacs variable called coq-prog-name using arguments stored in the emacs variable coq-prog-args. 

For working with this library in Proof General the value of coq-prog-name should be set to dir/coqtop where dir is the mane of the directory where the binary of the patched Coq-8.4pl3 which was used to compile the library is located. The value of the variable coq-prog-args should be set to -emacs followed by -no-sharing . 

*****

The best way to see in detail what the files in these subdirectories are about is to generate the corresponding tables of content with coqdoc . Here we give a brief outline of the library structure .   

The library contains subdirectories Generalities/ hlevel1/ hlevel2/ and /Proof_of_Extensionality . 

Directory Generalities/ contains files uuu.v and uu0.v .  The file uuu.v contains some new notations for the constructions defined in Coq.Init library as well as the definition of "dependent sum" [ total2 ] . The file uu0.v contains the bulk of general results and definitions about types which are pertinent to the univalent approach .  In this file we prove main results which apply to all types and which require only one universe level to be proved.  Some of the results in uu0 use the extensionality axiom for functions (introduced in the same file). No other axioms or resizings rules (see below) are used and these files should compile with the unpatched version of Coq-8.4. 

Directory hlevel1/ contains one file hProp.v with results and constructions related to types of h-level 1 i.e. to types which correspond to "propositions" in our formalization. Some of the results here use " resizing rules " and therefore it will currently not compile without a type_in_type patch . Note that we continue to keep track of universe levels in these files "by hand" and use only those "universe re-assigment" or "resizing" rules which are semantically justified.  Some of the results in this file also use the univalence axiom for hProp called [ uahp ] which is equivalent to the axiom asserting that if two propositions are logically equivalent then they are equal .  

Directory hlevel2/ contains files with constructions and results related to types of hlevel 2 i.e. to types corresponding to sets in our formalization . 

The first file is hSet.v . It contains most general definitions related to sets including the constructions related to set-quotients of types . 

The next group of files in the hierarchy are algebra1(a b c d).v which contains many definitions and constructions of general abstract algebra culminating at the moment in the construction of the field of fractions of an integral domain with decidable equality. The files also contain definitions and results about the relations on algebraic structures .  

The next file is hnat.v which contains many simple lemmas about arithmetic and comparisons on natural numbers . 

Then the hierarchy branches. 

On one branch  there are files stnfsets.v and finitesets.v which introduce constructions related to standard and general finite sets respectively.

On another branch there are files hz.v and hq.v which introduce the basic cosntructions related to the integer and rational arithmetic as particular cases of the general theorems of the algebra1 group of files. 

At the end of files finitesets.v,  hz.v and hq.v there are sample computations which show that despite our use of the extensionality axioms the relevant terms of types [ bool ] and [ nat ] fully normalize. The last computation example in hq.v which evaluates the absolute value of the integral part of 10/-3.  

Directory Proof_of_Extensionality/ contains the formulation of general Univalence Axiom and a proof that it implies functional extensionality . 

*****